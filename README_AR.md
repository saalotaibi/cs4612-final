# مشروع البرمجة المتوازية والموزعة CS4612 - الأسبوع 4: النسخة التسلسلية الأساسية

## نظرة عامة عن المشروع

هذا المشروع يحلل إحصائيات الجينوم البشري باستخدام بيانات من NCBI RefSeq. المشروع ماشي حسب متطلبات مادة CS4612 للبرمجة المتوازية والموزعة، وبالتحديد الأسبوع الرابع: النسخة التسلسلية الأساسية والتأكد من صحة البيانات.

## المشكلة المطلوب حلها

**تحليل إحصائيات الجينوم**: حساب إحصائيات شاملة من بيانات جينومية كبيرة تتضمن:
- الطول الكلي للتسلسل وتركيب القواعد النيتروجينية
- تحليل محتوى GC
- عدد التسلسلات وتوزيع أطوالها
- تحليل تكرار القواعد (A, T, G, C, N)

## معلومات عن البيانات المستخدمة

### المصدر
- **البيانات**: الجينوم المرجعي للإنسان (GRCh38.p14)
- **الرابط**: https://ftp.ncbi.nlm.nih.gov/genomes/refseq/vertebrate_mammalian/Homo_sapiens/latest_assembly_versions/GCF_000001405.40_GRCh38.p14/GCF_000001405.40_GRCh38.p14_genomic.fna.gz
- **الصيغة**: FASTA (.fna/.fasta)
- **الحجم**: تقريباً 3 جيجابايت بدون ضغط
- **الترخيص**: بيانات عامة من NCBI RefSeq

### شرح صيغة FASTA
صيغة FASTA هي صيغة نصية لتمثيل تسلسلات النيوكليوتيدات أو البروتينات:
```
>sequence_header
ATCGATCGATCGATCGATCGATCGATCGATCGATCGATCGATCG
ATCGATCGATCGATCGATCGATCGATCGATCGATCGATCGATCG
```
- الأسطر اللي تبدأ بـ `>` هي رؤوس التسلسلات (معلومات وصفية)
- الأسطر اللي بعدها تحتوي على بيانات التسلسل الفعلية
- مستخدمة بكثرة في المعلوماتية الحيوية لحفظ البيانات الجينومية

## التنفيذ والكود

### النسخة التسلسلية الأساسية (الأسبوع 4)

النسخة التسلسلية (`serial/genome_stats.c`) توفر:
- **اللغة**: C (مطلوبة حسب المشروع)
- **الوظيفة**: حساب كامل لإحصائيات الجينوم
- **المدخلات**: ملفات جينوم بصيغة FASTA
- **المخرجات**: تقرير شامل بالإحصائيات

#### المميزات المنفذة
- عد القواعد النيتروجينية الكلية وتحليل التسلسلات
- حساب محتوى GC/AT
- تتبع قواعد N (النيوكليوتيدات المجهولة)
- إحصائيات طول التسلسلات (الحد الأدنى/الأقصى/المتوسط)
- تفصيل تركيب القواعد
- قياس وقت التنفيذ

## هيكل المشروع

```
parallel-compute/
├── serial/              # النسخة التسلسلية الأساسية
│   ├── genome_stats.c   # البرنامج الرئيسي
│   └── Makefile        # إعدادات البناء
├── parallel_omp/        # نسخة OpenMP (مستقبلاً)
├── distributed_mpi/     # نسخة MPI (مستقبلاً)
├── data/               # ملفات البيانات
│   ├── human_genome_sample.fna.gz  # الجينوم الكامل (972 ميجابايت)
│   ├── human_genome_sample.fna     # الجينوم الكامل بدون ضغط
│   └── better_sample.fna           # عينة للاختبار (800 كيلوبايت)
├── .gitignore          # إعدادات Git
└── README.md           # هذا الملف
```

## الإعداد والتثبيت

### المتطلبات الأساسية
- مترجم GCC
- نظام Make للبناء
- wget (لتنزيل البيانات)
- gunzip (لفك ضغط الملفات)

### تعليمات البناء

1. **بناء النسخة التسلسلية**:
```bash
cd serial
make
```

2. **تنزيل البيانات**:
```bash
cd ../data
# تنزيل الجينوم الكامل (972 ميجابايت مضغوط)
wget -O human_genome_sample.fna.gz "https://ftp.ncbi.nlm.nih.gov/genomes/refseq/vertebrate_mammalian/Homo_sapiens/latest_assembly_versions/GCF_000001405.40_GRCh38.p14/GCF_000001405.40_GRCh38.p14_genomic.fna.gz"

# فك الضغط
gunzip human_genome_sample.fna.gz
```

3. **إنشاء عينة صغيرة للاختبار** (مستحسن للبداية):
```bash
# إنشاء عينة مناسبة للاختبار
grep -A 10000 "^>NC_000001.11" human_genome_sample.fna | head -10020 > better_sample.fna
```

## طريقة الاستخدام

### تشغيل النسخة التسلسلية

```bash
cd serial
./genome_stats <ملف_fasta>
```

**أمثلة**:
```bash
# اختبار مع عينة صغيرة
./genome_stats ../data/better_sample.fna

# اختبار مع الجينوم الكامل (ممكن ياخذ عدة دقائق)
./genome_stats ../data/human_genome_sample.fna
```

### شكل المخرجات المتوقع
```
Processing FASTA file: ../data/better_sample.fna

=== Genome Statistics for ../data/better_sample.fna ===
Number of sequences: 1
Total bases: 800000
Total sequence length: 800000
Average sequence length: 800000.00
GC content: 34.57%
AT content: 45.43%
N content: 20.00%
Other bases: 0.00%
Max sequence length: 800000
Min sequence length: 800000
Base composition:
  A/T: 363452
  G/C: 276548
  N: 160000
  Other: 0

Execution time: 0.03 seconds
```

## التحقق من الصحة

### التحقق من تحميل البيانات

✅ **مؤكد**: البرنامج ينجح في تحميل وقراءة ملفات FASTA

✅ **مؤكد**: يحدد رؤوس التسلسلات بشكل صحيح (الأسطر اللي تبدأ بـ '>')

✅ **مؤكد**: يعالج بيانات التسلسل متعدد الأسطر بشكل صحيح

✅ **مؤكد**: يتعامل مع الملفات الكبيرة بكفاءة (مختبر على عينة 800 كيلوبايت)

### صحة الخوارزمية

✅ **مؤكد**: عد دقيق للقواعد النيتروجينية من جميع الأنواع

✅ **مؤكد**: حسابات صحيحة لمحتوى GC/AT

✅ **مؤكد**: إحصائيات دقيقة لأطوال التسلسلات

✅ **مؤكد**: يتعامل مع الحالات الخاصة (تسلسلات فارغة، قواعد غير صالحة)

### خصائص الأداء

- **التعقيد الزمني**: O(n) حيث n هو العدد الكلي للقواعد
- **التعقيد المكاني**: O(1) - استخدام ذاكرة ثابت بغض النظر عن حجم المدخلات
- **قابلية التوسع**: تدرج خطي مع حجم المدخلات

## حالة متطلبات الأسبوع 4

✅ **تنفيذ النسخة التسلسلية الأساسية**: تم إكمال النسخة بلغة C
✅ **التحقق من تحميل/معالجة البيانات**: تم الاختبار بنجاح مع بيانات NCBI للجينوم البشري
✅ **التحقق من الصحة**: البرنامج ينتج نتائج دقيقة على البيانات التجريبية

## الخطوات القادمة (الأسابيع الجاية)

النسخة التسلسلية الأساسية تعطي أساس للنسخ المتوازية:

- **الأسبوع 5-6**: التوازي بالذاكرة المشتركة باستخدام OpenMP
- **الأسبوع 7-8**: التنفيذ الموزع باستخدام MPI
- **الأسبوع 9-10**: ضبط الأداء وتجارب التوسع
- **الأسبوع 11-12**: التحليل المقارن والتوسع الضعيف

## شرح الكود

الكود مكتوب بلغة C وفيه تعليقات بالعربي عشان يسهل الفهم:

### الهياكل الأساسية
- `GenomeStats`: هيكل يخزن كل الإحصائيات (عدد القواعد، GC، AT، N، إلخ)

### الدوال الرئيسية
1. `process_base()`: تعالج قاعدة نيتروجينية واحدة وتحدث الإحصائيات
2. `process_fasta_file()`: تقرأ ملف FASTA كامل وتحسب الإحصائيات
3. `print_statistics()`: تطبع النتائج بطريقة منظمة
4. `main()`: الدالة الرئيسية اللي تتعامل مع وسائط سطر الأوامر

### كيف يشتغل البرنامج
1. يفتح ملف FASTA
2. يقرأ سطر سطر:
   - إذا السطر يبدأ بـ `>` يعرف أنه رأس تسلسل جديد
   - الأسطر الثانية تحتوي على بيانات التسلسل
3. لكل قاعدة نيتروجينية (A, T, G, C, N) يحدث العدادات المناسبة
4. بعد ما ينتهي، يطبع كل الإحصائيات

## الأمانة الأكاديمية

- **مرجع البيانات**: NCBI RefSeq - الجينوم البشري (GRCh38.p14)
- **التنفيذ**: كود C أصلي مطور خصيصاً لهذا المشروع
- **بدون مكتبات خارجية**: تنفيذ C صافي باستخدام المكتبات القياسية فقط
- **الإسناد الصحيح**: كل الكود موثق بوضوح وأصلي

## حل المشاكل الشائعة

### مشاكل متوقعة
1. **الملف كبير جداً**: استخدم ملفات العينات للاختبار الأولي
2. **مشاكل في الذاكرة**: البرنامج يستخدم ذاكرة ثابتة، مناسب للملفات الكبيرة
3. **أخطاء في البناء**: تأكد إن GCC مثبت (`sudo apt-get install gcc`)
4. **مشاكل في تنزيل البيانات**: تأكد من الاتصال بالإنترنت والرابط شغال

### ملاحظات عن الأداء
- معالجة الجينوم الكامل (~3 جيجابايت) ممكن تاخذ 2-5 دقائق حسب النظام
- استخدم ملفات العينات للتطوير والاختبار الأولي
- البرنامج محدود بسرعة القراءة من القرص الصلب

## المراجع

1. قاعدة بيانات NCBI RefSeq: https://www.ncbi.nlm.nih.gov/refseq/
2. مواصفات صيغة FASTA: https://en.wikipedia.org/wiki/FASTA_format
3. تجميع الجينوم البشري GRCh38: https://www.ncbi.nlm.nih.gov/assembly/GCF_000001405.40/

---

## ملاحظات إضافية

هذا المشروع جزء من مادة البرمجة المتوازية والموزعة، والهدف منه:
- تعلم كيف نحلل بيانات كبيرة بكفاءة
- فهم الفرق بين البرمجة التسلسلية والمتوازية
- تطبيق تقنيات الذاكرة المشتركة (OpenMP) والموزعة (MPI)
- قياس وتحسين الأداء

الكود الحالي هو النسخة الأساسية التسلسلية، والخطوات الجاية راح نطور نسخ متوازية أسرع!
